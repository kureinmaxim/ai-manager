{% extends "layout.html" %}


<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è OAuth –º–µ—Ç–æ–¥–æ–≤
function updateOAuthMethods() {
    const serviceName = document.getElementById('name').value;
    const select = document.getElementById('preferred_oauth_method');
    
    // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –æ–ø—Ü–∏–∏
    select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞...</option>';
    
    if (!serviceName) return;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ OAuth –º–µ—Ç–æ–¥—ã
    const oauthMethods = getOAuthMethods(serviceName);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏–∏
    Object.entries(oauthMethods).forEach(([key, oauth]) => {
        const option = document.createElement('option');
        option.value = key;
        option.textContent = `${oauth.icon} ${oauth.name}`;
        select.appendChild(option);
    });
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è OAuth –º–µ—Ç–æ–¥–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
function getOAuthMethods(serviceName) {
    const methods = {};
    
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    const lowerName = serviceName.toLowerCase();
    if (lowerName.includes('cursor')) {
        methods.cursor = { name: 'Cursor Account', icon: '‚ö°' };
    } else if (lowerName.includes('chatgpt') || lowerName.includes('openai')) {
        methods.openai = { name: 'OpenAI Account', icon: 'ü§ñ' };
    } else if (lowerName.includes('medium')) {
        methods.medium = { name: 'Medium Account', icon: 'üìù' };
    } else if (lowerName.includes('notion')) {
        methods.notion = { name: 'Notion Account', icon: 'üìÑ' };
    } else if (lowerName.includes('figma')) {
        methods.figma = { name: 'Figma Account', icon: 'üé®' };
    }
    
    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    methods.google = { name: 'Google', icon: 'üîê' };
    methods.apple = { name: 'Apple ID', icon: 'üçé' };
    methods.github = { name: 'GitHub', icon: 'üêô' };
    methods.microsoft = { name: 'Microsoft', icon: 'ü™ü' };
    
    return methods;
}

// –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞
document.getElementById('name').addEventListener('input', updateOAuthMethods);
document.getElementById('name').addEventListener('change', updateOAuthMethods);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', updateOAuthMethods);
</script>{% block title %}–î–æ–±–∞–≤–∏—Ç—å AI-—Å–µ—Ä–≤–∏—Å{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π AI-—Å–µ—Ä–≤–∏—Å</h1>
    <hr>
    <div class="row">
        <div class="col-md-8">
            <form action="{{ url_for('add_service') }}" method="post" enctype="multipart/form-data">
                <h5 class="mt-4">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞</label>
                        <input type="text" class="form-control" id="name" name="name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, ChatGPT Plus">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="provider" class="form-label">–ü—Ä–æ–≤–∞–π–¥–µ—Ä</label>
                        <input type="text" class="form-control" id="provider" name="provider" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, OpenAI">
                    </div>
                </div>
                 <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="service_type" class="form-label">–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞</label>
                        <select class="form-select" id="service_type" name="service_type" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            {% if schema and schema.service_types %}
                                {% for service_type in schema.service_types %}
                                    <option value="{{ service_type }}">{{ service_type }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="AI Development Tool">AI Development Tool</option>
                                <option value="AI Writing Assistant">AI Writing Assistant</option>
                                <option value="AI Image Generator">AI Image Generator</option>
                                <option value="AI Video Generator">AI Video Generator</option>
                                <option value="Media Platform">Media Platform</option>
                                <option value="Professional Network">Professional Network</option>
                                <option value="Cloud Service">Cloud Service</option>
                                <option value="Productivity Tool">Productivity Tool</option>
                            {% endif %}
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="status" class="form-label">–°—Ç–∞—Ç—É—Å</label>
                        <select class="form-select" id="status" name="status">
                            <option value="active" selected>–ê–∫—Ç–∏–≤–µ–Ω</option>
                            <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                            <option value="trial">–ü—Ä–æ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è</option>
                            <option value="expired">–ò—Å—Ç—ë–∫</option>
                            <option value="cancelled">–û—Ç–º–µ–Ω—ë–Ω</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="login_url" class="form-label">URL –¥–ª—è –≤—Ö–æ–¥–∞</label>
                    <input type="url" class="form-control" id="login_url" name="login_url" placeholder="https://chatgpt.com/login">
                </div>
                <div class="mb-3">
                    <label for="preferred_oauth_method" class="form-label">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞</label>
                    <select class="form-select" id="preferred_oauth_method" name="preferred_oauth_method">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞...</option>
                    </select>
                    <div class="form-text">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Å–µ—Ä–≤–∏—Å–∞</div>                </div>

                <div class="accordion" id="credentials-accordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="credentials-heading">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#credentials-collapse" aria-expanded="false" aria-controls="credentials-collapse">
        <i class="bi bi-key me-2"></i>–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
      </button>
    </h2>
    <div id="credentials-collapse" class="accordion-collapse collapse" aria-labelledby="credentials-heading" data-bs-parent="#credentials-accordion">
      <div class="accordion-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/Email</label>
                        <input type="text" class="form-control" id="username" name="username" placeholder="user@example.com">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="password" name="password">
                    </div>
                </div>
                <div class="mb-3">
                    <label for="additional_info" class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤—Ö–æ–¥–∞</label>
                    <textarea class="form-control" id="additional_info" name="additional_info" rows="2" placeholder="API –∫–ª—é—á–∏, —Ç–æ–∫–µ–Ω—ã, –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ç.–¥."></textarea>
                </div>

                </div>
      </div>
    </div>
  </div>
</div>

<h5 class="mt-4">–ü–æ–¥–ø–∏—Å–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</h5>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="plan_name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞</label>
                        <input type="text" class="form-control" id="plan_name" name="plan_name" placeholder="Pro Plan, Plus, Premium">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="cost_monthly" class="form-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü</label>
                        <input type="number" step="0.01" class="form-control" id="cost_monthly" name="cost_monthly" placeholder="20.00">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="currency" class="form-label">–í–∞–ª—é—Ç–∞</label>
                        <select class="form-select" id="currency" name="currency">
                            <option value="USD" selected>USD</option>
                            <option value="EUR">EUR</option>
                            <option value="RUB">RUB</option>
                            <option value="GBP">GBP</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="billing_cycle" class="form-label">–ü–µ—Ä–∏–æ–¥ –æ–ø–ª–∞—Ç—ã</label>
                        <select class="form-select" id="billing_cycle" name="billing_cycle">
                            <option value="monthly" selected>–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                            <option value="quarterly">–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ</option>
                            <option value="yearly">–ï–∂–µ–≥–æ–¥–Ω–æ</option>
                            <option value="weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="next_payment_date" class="form-label">–°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç—ë–∂</label>
                        <input type="date" class="form-control" id="next_payment_date" name="next_payment_date">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="payment_method" class="form-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                        <input type="text" class="form-control" id="payment_method" name="payment_method" placeholder="Credit Card, PayPal, Bank Transfer">
                    </div>
                    <div class="col-md-6 mb-3 d-flex align-items-end">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="auto_renewal" name="auto_renewal" checked>
                            <label class="form-check-label" for="auto_renewal">
                                –ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ
                            </label>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="subscription_notes" class="form-label">–ó–∞–º–µ—Ç–∫–∏ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ</label>
                    <textarea class="form-control" id="subscription_notes" name="subscription_notes" rows="2" placeholder="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∞—Ä–∏—Ñ–∞, –ª–∏–º–∏—Ç—ã, –ø—Ä–æ–º–æ–∫–æ–¥—ã"></textarea>
                </div>

                <h5 class="mt-4">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h5>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="dashboard_url" class="form-label">URL –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</label>
                        <input type="url" class="form-control" id="dashboard_url" name="dashboard_url" placeholder="https://platform.openai.com/dashboard">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="account_email" class="form-label">Email –∞–∫–∫–∞—É–Ω—Ç–∞</label>
                        <input type="email" class="form-control" id="account_email" name="account_email" placeholder="account@example.com">
                    </div>
                </div>

                <h5 class="mt-4">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h5>
                <div class="mb-3">
                    <label for="features" class="form-label">–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</label>
                    <textarea class="form-control" id="features" name="features" rows="3" placeholder="–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: AI Code Completion, Chat with Codebase, Command Palette AI)"></textarea>
                    <div class="form-text">–í–≤–µ–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é</div>
                </div>

                <h5 class="mt-4">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h5>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="icon_filename" class="form-label">–ò–∫–æ–Ω–∫–∞ —Å–µ—Ä–≤–∏—Å–∞</label>
                        <input class="form-control" type="file" id="icon_filename" name="icon_filename" accept="image/*">
                    </div>
                </div>

                <h5 class="mt-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
                 <div class="mb-3">
                    <label for="notes" class="form-label">–ó–∞–º–µ—Ç–∫–∏</label>
                    <textarea class="form-control" id="notes" name="notes" rows="3" placeholder="–û–±—â–∏–µ –∑–∞–º–µ—Ç–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏"></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary mt-3">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å AI-—Å–µ—Ä–≤–∏—Å</button>
                <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">–û—Ç–º–µ–Ω–∞</a>
            </form>
        </div>
        <div class="col-md-4">
            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</h5>
                </div>
                <div class="card-body">
                    <h6 class="text-primary">ü§ñ AI Development Tools</h6>
                    <small class="text-muted">Cursor, GitHub Copilot, Tabnine</small>
                    <hr>
                    
                    <h6 class="text-success">‚úçÔ∏è AI Writing Assistants</h6>
                    <small class="text-muted">ChatGPT, Claude, Jasper AI</small>
                    <hr>

                    <h6 class="text-warning">üé® AI Image/Video</h6>
                    <small class="text-muted">Midjourney, DALL-E, Runway</small>
                    <hr>
                    
                    <h6 class="text-info">üì± Media & Social</h6>
                    <small class="text-muted">Medium, LinkedIn Premium, Substack</small>
                    <hr>
                    
                    <div class="alert alert-light" role="alert">
                        <strong>üí° –°–æ–≤–µ—Ç:</strong> –î–ª—è API-–∫–ª—é—á–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤—Ö–æ–¥–∞"
                    </div>

                    <div class="alert alert-warning" role="alert">
                        <strong>üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –í—Å–µ –ø–∞—Ä–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è OAuth –º–µ—Ç–æ–¥–æ–≤
</script>{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
    const servicePresets = {
        'ChatGPT Plus': {
            provider: 'OpenAI',
            service_type: 'AI Writing Assistant',
            login_url: 'https://chatgpt.com/',
            dashboard_url: 'https://platform.openai.com/dashboard',
            cost_monthly: 20,
            currency: 'USD',
            features: 'Advanced AI Conversations, GPT-4 Access, Priority Access'
        },
        'Cursor AI': {
            provider: 'Anysphere Inc',
            service_type: 'AI Development Tool',
            login_url: 'https://cursor.sh/login',
            dashboard_url: 'https://cursor.sh/dashboard',
            cost_monthly: 20,
            currency: 'USD',
            features: 'AI Code Completion, Chat with Codebase, Command Palette AI'
        },
        'Medium': {
            provider: 'Medium',
            service_type: 'Media Platform',
            login_url: 'https://medium.com/signin',
            dashboard_url: 'https://medium.com/me/settings',
            cost_monthly: 349,
            currency: 'RUB',
            features: 'Unlimited Reading, Member-only Stories, Creator Tools'
        }
    };

    const nameField = document.getElementById('name');
    nameField.addEventListener('blur', function() {
        const serviceName = this.value;
        if (servicePresets[serviceName]) {
            const preset = servicePresets[serviceName];
            
            // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π
            Object.keys(preset).forEach(key => {
                const field = document.getElementById(key) || document.getElementsByName(key)[0];
                if (field && !field.value) {
                    field.value = preset[key];
                }
            });
        }
    });

    // –í–∞–ª–∏–¥–∞—Ü–∏—è URL
    const urlFields = ['login_url', 'dashboard_url'];
    urlFields.forEach(fieldName => {
        const field = document.getElementById(fieldName);
        if (field) {
            field.addEventListener('blur', function() {
                if (this.value && !this.value.startsWith('http')) {
                    this.value = 'https://' + this.value;
                }
            });
        }
    });

    // –ü–æ–¥—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ –≥–æ–¥
    const costField = document.getElementById('cost_monthly');
    const cycleField = document.getElementById('billing_cycle');
    const currencyField = document.getElementById('currency');
    
    function updateYearlyCost() {
        const monthlyCost = parseFloat(costField.value) || 0;
        const cycle = cycleField.value;
        const currency = currencyField ? currencyField.value : 'USD';
        let yearlyCost = 0;
        
        switch(cycle) {
            case 'weekly': yearlyCost = monthlyCost * 52; break;
            case 'monthly': yearlyCost = monthlyCost * 12; break;
            case 'quarterly': yearlyCost = monthlyCost * 4; break;
            case 'yearly': yearlyCost = monthlyCost; break;
        }
        
        if (yearlyCost > 0) {
            const currencySymbol = currency === 'RUB' ? '' : '$';
            costField.title = `–ü—Ä–∏–º–µ—Ä–Ω–æ ${currencySymbol}${yearlyCost.toFixed(2)} –≤ –≥–æ–¥`;
        }
    }
    
    if (costField && cycleField) {
        costField.addEventListener('input', updateYearlyCost);
        cycleField.addEventListener('change', updateYearlyCost);
        if (currencyField) {
            currencyField.addEventListener('change', updateYearlyCost);
        }
    }
});
</script>
{% endblock %}

<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è OAuth –º–µ—Ç–æ–¥–æ–≤
function updateOAuthMethods() {
    const serviceName = document.getElementById('name').value;
    const select = document.getElementById('preferred_oauth_method');
    
    // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –æ–ø—Ü–∏–∏
    select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—Ö–æ–¥–∞...</option>';
    
    if (!serviceName) return;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ OAuth –º–µ—Ç–æ–¥—ã
    const oauthMethods = getOAuthMethods(serviceName);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏–∏
    Object.entries(oauthMethods).forEach(([key, oauth]) => {
        const option = document.createElement('option');
        option.value = key;
        option.textContent = `${oauth.icon} ${oauth.name}`;
        select.appendChild(option);
    });
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è OAuth –º–µ—Ç–æ–¥–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
function getOAuthMethods(serviceName) {
    const methods = {};
    
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    const lowerName = serviceName.toLowerCase();
    if (lowerName.includes('cursor')) {
        methods.cursor = { name: 'Cursor Account', icon: '‚ö°' };
    } else if (lowerName.includes('chatgpt') || lowerName.includes('openai')) {
        methods.openai = { name: 'OpenAI Account', icon: 'ü§ñ' };
    } else if (lowerName.includes('medium')) {
        methods.medium = { name: 'Medium Account', icon: 'üìù' };
    } else if (lowerName.includes('notion')) {
        methods.notion = { name: 'Notion Account', icon: 'üìÑ' };
    } else if (lowerName.includes('figma')) {
        methods.figma = { name: 'Figma Account', icon: 'üé®' };
    }
    
    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    methods.google = { name: 'Google', icon: 'üîê' };
    methods.apple = { name: 'Apple ID', icon: 'üçé' };
    methods.github = { name: 'GitHub', icon: 'üêô' };
    methods.microsoft = { name: 'Microsoft', icon: 'ü™ü' };
    
    return methods;
}

// –û–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞
document.getElementById('name').addEventListener('input', updateOAuthMethods);
document.getElementById('name').addEventListener('change', updateOAuthMethods);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', updateOAuthMethods);
